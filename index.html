<html>

<head>
    <script type="module" src="tml.js"></script>
    <script type="module" src="gui.js"></script>
    <style>

    </style>
</head>

<body>
    <h1>Turing machine language</h1>
    <input style="width: 800px" id="slider" type="range" min="0" max="100" /><br />
    <button id="runButton">Run</button><br />
    <div id="commentElement"></div>
    <div id="t"></div>

    <textarea id="program" style="vertical-align:top  ;
    display:inline" cols=60 rows=20>
comment("This program will non-deterministically that the input represents a 3-colorable graph")
input("#001-11#11-221#001-221");

comment("Assigning colors to each vertex");
right();

while (read() != "$") {
    comment("Mark the next vertex");
    mark("u");

    comment("Does the vertex have a color?");
    if (!TMLBlock.findAddress("c", "u")) {
        comment("The vertex has no color: let choose one");
        TMLBlock.allocateWithAddress("c", "u");
        write(choose(["0", "1", "2"]));
    }
    mvtomarkleft("u");
    unmark();
    TMLBlock.right();

    if (read() == "-" || read() == "#")
        right();
}


comment("Verify that adjacent nodes are of different colors");
leftmost();
right();



while (read() != "$") {
    mark("u");

    TMLBlock.findAddress("c", "u")
    TMLBlock.right();
    right();
    mark("c");

    mvtomarkleft("u");
    unmark();
    TMLBlock.right();
    right();

    mark("v");
    TMLBlock.findAddress("c", "v")
    TMLBlock.right();
    right();

    if (equal("c")) {
        comment("u and v have the same color: reject");
        reject();
    }

    mvtomark("c");
    unmark();

    mvtomarkleft("v");
    unmark();
    TMLBlock.right();

    if (read() == "-" || read() == "#")
        right();
}

accept();
    </textarea>
    <canvas id="canvas" width=800 height=600></canvas>

</body>

</html>